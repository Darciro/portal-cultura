!function(e){e(document).ready(function(){t.init()});var t={init:function(){this.idgFeatureCardWidgets(),this.idgBannersWidgets(),this.idgBlockInit()},idgFeatureCardWidgets:function(){e(document).on("keyup",".idg-feature-card-widget .card-title",function(){e(this).closest(".idg-feature-card-widget").find(".card-title").text(e(this).val())}),e(document).on("change",".idg-feature-card-widget .icon-selector",function(){var t=e(this).val();console.log(t),"upload-custom-icon"===t?(e(this).closest(".idg-feature-card-widget").find(".feature-card .icon > img").show(),e(this).closest(".idg-feature-card-widget").find(".custom-icon").removeClass("hidden")):(e(this).closest(".idg-feature-card-widget").find(".custom-icon").addClass("hidden"),e(this).closest(".idg-feature-card-widget").find(".feature-card .icon > img").hide(),e(this).closest(".idg-feature-card-widget").find(".feature-card .icon").removeClass().addClass("icon "+e(this).val())),e(this).closest(".idg-feature-card-widget").find(".feature-card .icon").removeClass().addClass("icon "+e(this).val())}),e(document).on("change",".idg-feature-card-widget .card-model",function(){var t=e(this).val();e(this).closest(".idg-feature-card-widget").find(".feature-card").removeClass().addClass("feature-card static-height "+t),"card-3"===t?(e(this).closest(".idg-feature-card-widget").find(".card-desc-wrapper").removeClass("hidden"),e(this).closest(".idg-feature-card-widget").find(".feature-card .card-desc, .feature-card .card-btn").show()):(e(this).closest(".idg-feature-card-widget").find(".card-desc-wrapper").addClass("hidden"),e(this).closest(".idg-feature-card-widget").find(".feature-card .card-desc, .feature-card .card-btn").hide())}),e(document).on("keyup",".idg-feature-card-widget .card-desc",function(){e(this).closest(".idg-feature-card-widget").find(".card-desc").text(e(this).val())}),e(document).on("keyup",".idg-feature-card-widget .card-btn-text",function(){e(this).closest(".idg-feature-card-widget").find(".card-btn.btn").text(e(this).val())})},idgBannersWidgets:function(){e(document).on("click",".number-of-banners-input",function(t){wpWidgets.save(e(this).closest(".widget"),0,1,0)}),e(document).on("click",".upload_image_button",function(t){t.preventDefault();var i=e(this);wp.media.editor.send.attachment=function(e,t){i.prev("input").val(t.id),i.parent().find("img.banner-img-preview").attr("src",t.url),wpWidgets.save(i.closest(".widget"),0,1,0)},wp.media.editor.open(i)}),e(document).on("click",".remove-banner-item",function(t){t.preventDefault();var i=e(this).closest(".idg-banners-widget"),d=i.find(".banners-items .banner").length;e(this).closest(".banner").addClass("deleting-banner").fadeOut(),i.find(".number-of-banners-input").val(d-1),i.find(".banner.deleting-banner").remove(),wpWidgets.save(i.closest(".widget"),0,1,0)})},idgBlockInit:function(){if(wp.element){var e=wp.element.createElement,t=wp.blocks.registerBlockType,i=wp.editor.RichText;t("gutenberg-boilerplate-es5/idgwp-gutenberg-block-card",{title:"Feature card block",icon:"paperclip",category:"widgets",attributes:{content:{type:"string",source:"html",selector:"div"}},edit:function(t){var d=t.attributes.content;return e(i,{tagName:"div",className:t.className,onChange:function(e){t.setAttributes({content:e}),function(e){console.log(e),e.startsWith("<a")?(console.log("already has a"),{backgroundColor:"#f3f4f5"}):(console.log("MISSING a"),{backgroundColor:"#7F0013"})}(d)},value:d})},save:function(t){var d=t.attributes.content;return e(i.Content,{tagName:"div",className:t.className,value:d})}})}}}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLm1pbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImFkbWluIiwiaW5pdCIsInRoaXMiLCJpZGdGZWF0dXJlQ2FyZFdpZGdldHMiLCJpZGdCYW5uZXJzV2lkZ2V0cyIsImlkZ0Jsb2NrSW5pdCIsIm9uIiwiY2xvc2VzdCIsImZpbmQiLCJ0ZXh0IiwidmFsIiwiY2FyZEljb24iLCJjb25zb2xlIiwibG9nIiwic2hvdyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJoaWRlIiwiY2FyZE1vZGVsIiwiZSIsIndwV2lkZ2V0cyIsInNhdmUiLCJwcmV2ZW50RGVmYXVsdCIsImNsaWNrZWRCdXR0b24iLCJ3cCIsIm1lZGlhIiwiZWRpdG9yIiwic2VuZCIsImF0dGFjaG1lbnQiLCJwcm9wcyIsInByZXYiLCJpZCIsInBhcmVudCIsImF0dHIiLCJ1cmwiLCJvcGVuIiwiYmFubmVycyIsIm4iLCJsZW5ndGgiLCJmYWRlT3V0IiwicmVtb3ZlIiwiZWxlbWVudCIsImVsIiwiY3JlYXRlRWxlbWVudCIsInJlZ2lzdGVyQmxvY2tUeXBlIiwiYmxvY2tzIiwiUmljaFRleHQiLCJ0aXRsZSIsImljb24iLCJjYXRlZ29yeSIsImF0dHJpYnV0ZXMiLCJjb250ZW50IiwidHlwZSIsInNvdXJjZSIsInNlbGVjdG9yIiwiZWRpdCIsInRhZ05hbWUiLCJjbGFzc05hbWUiLCJvbkNoYW5nZSIsIm5ld0NvbnRlbnQiLCJzZXRBdHRyaWJ1dGVzIiwic3RhcnRzV2l0aCIsImJhY2tncm91bmRDb2xvciIsImNoZWNrRm9yQUVsZW1lbnQiLCJ2YWx1ZSIsIkNvbnRlbnQiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVdBLEdBQ1ZBLEVBQUVDLFVBQVVDLE1BQU0sV0FDakJDLEVBQU1DLFNBR1AsSUFBSUQsRUFBUSxDQUNYQyxLQUFNLFdBQ0xDLEtBQUtDLHdCQUNMRCxLQUFLRSxvQkFDTEYsS0FBS0csZ0JBR05GLHNCQUF1QixXQUN0Qk4sRUFBRUMs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bEIsR0FBR2lCLFFBQVFFLGNBQ25CQyxFQUFvQnBCLEdBQUdxQixPQUFPRCxrQkFDOUJFLEVBQVd0QixHQUFHRSxPQUFPb0IsU0FjdEJGLEVBQW1CLHVEQUF3RCxDQUMxRUcsTUFBTyxxQkFDUEMsS0FBTSxZQUNOQyxTQUFVLFVBQ1ZDLFdBQVksQ0FDWEMsUUFBUyxDQUNSQyxLQUFNLFNBQ05DLE9BQVEsT0FDUkMsU0FBVSxRQUdaQyxLQUFNLFNBQVUxQixHQUNmLElBQUlzQixFQUFVdEIsRUFBTXFCLFdBQVdDLFFBTy9CLE9BQU9ULEVBQ05JLEVBQ0EsQ0FDQ1UsUUFBUyxNQUNUQyxVQUFXNUIsRUFBTTRCLFVBQ2pCQyxTQVZGLFNBQTBCQyxHQUN6QjlCLEVBQU0rQixjQUFlLENBQUVULFFBQVNRLElBM0JuQyxTQUEwQlIsR0FDekJ2QyxRQUFRQyxJQUFLc0MsR0FDVEEsRUFBUVUsV0FBVyxPQUN0QmpELFFBQVFDLElBQUssaUJBQ0EsQ0FBRWlELGdCQUFpQixhQUVoQ2xELFFBQVFDLElBQUssYUFDQSxDQUFFaUQsZ0JBQWlCLFlBcUIvQkMsQ0FBa0JaLElBU2pCYSxNQUFPYixLQU1WOUIsS0FBTSxTQUFVUSxHQUNmLElBQUlzQixFQUFVdEIsRUFBTXFCLFdBQVdDLFFBRS9CLE9BQU9ULEVBQUlJLEVBQVNtQixRQUFTLENBQzVCVCxRQUFTLE1BQ1RDLFVBQVc1QixFQUFNNEIsVUFDakJPLE1BQU9iLFVBM0lkLENBb0pHZSIsImZpbGUiOiJhZG1pbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQpIHtcblx0JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXHRcdGFkbWluLmluaXQoKTtcblx0fSk7XG5cblx0dmFyIGFkbWluID0ge1xuXHRcdGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuaWRnRmVhdHVyZUNhcmRXaWRnZXRzKCk7XG5cdFx0XHR0aGlzLmlkZ0Jhbm5lcnNXaWRnZXRzKCk7XG5cdFx0XHR0aGlzLmlkZ0Jsb2NrSW5pdCgpO1xuXHRcdH0sXG5cblx0XHRpZGdGZWF0dXJlQ2FyZFdpZGdldHM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsICcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQgLmNhcmQtdGl0bGUnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmNhcmQtdGl0bGUnKS50ZXh0KCQodGhpcykudmFsKCkpO1xuXHRcdFx0fSk7XG5cblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0IC5pY29uLXNlbGVjdG9yJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgY2FyZEljb24gPSAkKHRoaXMpLnZhbCgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyggY2FyZEljb24gKTtcblx0XHRcdFx0aWYoIGNhcmRJY29uID09PSAndXBsb2FkLWN1c3RvbS1pY29uJyApe1xuXHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmZlYXR1cmUtY2FyZCAuaWNvbiA+IGltZycpLnNob3coKTtcblx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5jdXN0b20taWNvbicpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5jdXN0b20taWNvbicpLmFkZENsYXNzKCdoaWRkZW4nKTtcblx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5mZWF0dXJlLWNhcmQgLmljb24gPiBpbWcnKS5oaWRlKCk7XG5cdFx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQnKS5maW5kKCcuZmVhdHVyZS1jYXJkIC5pY29uJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnaWNvbiAnICsgJCh0aGlzKS52YWwoKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQnKS5maW5kKCcuZmVhdHVyZS1jYXJkIC5pY29uJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnaWNvbiAnICsgJCh0aGlzKS52YWwoKSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0JChkb2N1bWVudCkub24oJ2NoYW5nZScsICcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQgLmNhcmQtbW9kZWwnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBjYXJkTW9kZWwgPSAkKHRoaXMpLnZhbCgpO1xuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5mZWF0dXJlLWNhcmQnKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdmZWF0dXJlLWNhcmQgc3RhdGljLWhlaWdodCAnICsgY2FyZE1vZGVsICk7XG5cdFx0XHRcdGlmKCBjYXJkTW9kZWwgPT09ICdjYXJkLTMnICl7XG5cdFx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQnKS5maW5kKCcuY2FyZC1kZXNjLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQnKS5maW5kKCcuZmVhdHVyZS1jYXJkIC5jYXJkLWRlc2MsIC5mZWF0dXJlLWNhcmQgLmNhcmQtYnRuJykuc2hvdygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmNhcmQtZGVzYy13cmFwcGVyJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmZlYXR1cmUtY2FyZCAuY2FyZC1kZXNjLCAuZmVhdHVyZS1jYXJkIC5jYXJkLWJ0bicpLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsICcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQgLmNhcmQtZGVzYycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQnKS5maW5kKCcuY2FyZC1kZXNjJykudGV4dCgkKHRoaXMpLnZhbCgpKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKGRvY3VtZW50KS5vbigna2V5dXAnLCAnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0IC5jYXJkLWJ0bi10ZXh0JywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5jYXJkLWJ0bi5idG4nKS50ZXh0KCQodGhpcykudmFsKCkpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGlkZ0Jhbm5lcnNXaWRnZXRzOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcubnVtYmVyLW9mLWJhbm5lcnMtaW5wdXQnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHR3cFdpZGdldHMuc2F2ZSggJCh0aGlzKS5jbG9zZXN0KCcud2lkZ2V0JyksIDAsIDEsIDApO1xuXHRcdFx0fSk7XG5cblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcudXBsb2FkX2ltYWdlX2J1dHRvbicsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0dmFyIGNsaWNrZWRCdXR0b24gPSAkKHRoaXMpO1xuXG5cdFx0XHRcdHdwLm1lZGlhLmVkaXRvci5zZW5kLmF0dGFjaG1lbnQgPSBmdW5jdGlvbihwcm9wcywgYXR0YWNobWVudCl7XG5cdFx0XHRcdFx0Y2xpY2tlZEJ1dHRvbi5wcmV2KCdpbnB1dCcpLnZhbCggYXR0YWNobWVudC5pZCApO1xuXHRcdFx0XHRcdGNsaWNrZWRCdXR0b24ucGFyZW50KCkuZmluZCgnaW1nLmJhbm5lci1pbWctcHJldmlldycpLmF0dHIoICdzcmMnLCBhdHRhY2htZW50LnVybCApO1xuXHRcdFx0XHRcdHdwV2lkZ2V0cy5zYXZlKCBjbGlja2VkQnV0dG9uLmNsb3Nlc3QoJy53aWRnZXQnKSwgMCwgMSwgMCk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHdwLm1lZGlhLmVkaXRvci5vcGVuKCBjbGlja2VkQnV0dG9uICk7XG5cdFx0XHR9KTtcblxuXHRcdFx0JChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5yZW1vdmUtYmFubmVyLWl0ZW0nLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHZhciBiYW5uZXJzID0gJCh0aGlzKS5jbG9zZXN0KCcuaWRnLWJhbm5lcnMtd2lkZ2V0JyksXG5cdFx0XHRcdFx0biA9IGJhbm5lcnMuZmluZCgnLmJhbm5lcnMtaXRlbXMgLmJhbm5lcicpLmxlbmd0aDtcblxuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5iYW5uZXInKS5hZGRDbGFzcygnZGVsZXRpbmctYmFubmVyJykuZmFkZU91dCgpO1xuXHRcdFx0XHRiYW5uZXJzLmZpbmQoJy5udW1iZXItb2YtYmFubmVycy1pbnB1dCcpLnZhbCggbiAtIDEgKTtcblx0XHRcdFx0YmFubmVycy5maW5kKCcuYmFubmVyLmRlbGV0aW5nLWJhbm5lcicpLnJlbW92ZSgpO1xuXHRcdFx0XHR3cFdpZGdldHMuc2F2ZSggYmFubmVycy5jbG9zZXN0KCcud2lkZ2V0JyksIDAsIDEsIDApO1xuXHRcdFx0fSk7XG5cblx0XHR9LFxuXG5cdFx0aWRnQmxvY2tJbml0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiggd3AuZWxlbWVudCApe1xuXG5cdFx0XHRcdHZhciBlbCA9IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudCxcblx0XHRcdFx0XHRyZWdpc3RlckJsb2NrVHlwZSA9IHdwLmJsb2Nrcy5yZWdpc3RlckJsb2NrVHlwZSxcblx0XHRcdFx0XHRSaWNoVGV4dCA9IHdwLmVkaXRvci5SaWNoVGV4dDtcblxuXHRcdFx0XHRmdW5jdGlvbiBjaGVja0ZvckFFbGVtZW50KGNvbnRlbnQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyggY29udGVudCApO1xuXHRcdFx0XHRcdGlmKCBjb250ZW50LnN0YXJ0c1dpdGgoJzxhJykgKXtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnYWxyZWFkeSBoYXMgYScgKTtcblx0XHRcdFx0XHRcdGJsb2NrU3R5bGUgPSB7IGJhY2tncm91bmRDb2xvcjogJyNmM2Y0ZjUnIH07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnTUlTU0lORyBhJyApO1xuXHRcdFx0XHRcdFx0YmxvY2tTdHlsZSA9IHsgYmFja2dyb3VuZENvbG9yOiAnIzdGMDAxMycgfTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgYmxvY2tTdHlsZTtcblx0XHRcdFx0cmVnaXN0ZXJCbG9ja1R5cGUoICdndXRlbmJlcmctYm9pbGVycGxhdGUtZXM1L2lkZ3dwLWd1dGVuYmVyZy1ibG9jay1jYXJkJywge1xuXHRcdFx0XHRcdHRpdGxlOiAnRmVhdHVyZSBjYXJkIGJsb2NrJyxcblx0XHRcdFx0XHRpY29uOiAncGFwZXJjbGlwJyxcblx0XHRcdFx0XHRjYXRlZ29yeTogJ3dpZGdldHMnLFxuXHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdGNvbnRlbnQ6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRcdFx0XHRcdHNvdXJjZTogJ2h0bWwnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RvcjogJ2RpdicsXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRlZGl0OiBmdW5jdGlvbiggcHJvcHMgKSB7XG5cdFx0XHRcdFx0XHR2YXIgY29udGVudCA9IHByb3BzLmF0dHJpYnV0ZXMuY29udGVudDtcblxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gb25DaGFuZ2VDb250ZW50KCBuZXdDb250ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRwcm9wcy5zZXRBdHRyaWJ1dGVzKCB7IGNvbnRlbnQ6IG5ld0NvbnRlbnQgfSApO1xuXHRcdFx0XHRcdFx0XHRjaGVja0ZvckFFbGVtZW50KCBjb250ZW50ICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBlbChcblx0XHRcdFx0XHRcdFx0UmljaFRleHQsXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR0YWdOYW1lOiAnZGl2Jyxcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSxcblx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZTogb25DaGFuZ2VDb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBjb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdC8vIHN0eWxlOiBibG9ja1N0eWxlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdHNhdmU6IGZ1bmN0aW9uKCBwcm9wcyApIHtcblx0XHRcdFx0XHRcdHZhciBjb250ZW50ID0gcHJvcHMuYXR0cmlidXRlcy5jb250ZW50O1xuXHRcdFx0XHRcdFx0Ly8gY2hlY2tGb3JBRWxlbWVudCggY29udGVudCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsKCBSaWNoVGV4dC5Db250ZW50LCB7XG5cdFx0XHRcdFx0XHRcdHRhZ05hbWU6ICdkaXYnLFxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGNvbnRlbnRcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fVxuXHRcdH1cblxuXHR9O1xufSkoalF1ZXJ5KTtcbiJdfQ==
