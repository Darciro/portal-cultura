!function(e){e(document).ready(function(){t.init()});var t={init:function(){this.idgFeatureCardWidgets(),this.idgBannersWidgets(),this.idgBlockInit(),this.idgSectionsWidgetsAreas(),this.idgSectionsWidgetsAreasCustomize()},idgFeatureCardWidgets:function(){e(document).on("keyup",".idg-feature-card-widget .card-title",function(){e(this).closest(".idg-feature-card-widget").find(".card-title").text(e(this).val())}),e(document).on("change",".idg-feature-card-widget .icon-selector",function(){"upload-custom-icon"===e(this).val()?(e(this).closest(".idg-feature-card-widget").find(".feature-card .icon > img").show(),e(this).closest(".idg-feature-card-widget").find(".custom-icon").removeClass("hidden")):(e(this).closest(".idg-feature-card-widget").find(".custom-icon").addClass("hidden"),e(this).closest(".idg-feature-card-widget").find(".feature-card .icon > img").hide(),e(this).closest(".idg-feature-card-widget").find(".feature-card .icon").removeClass().addClass("icon "+e(this).val())),e(this).closest(".idg-feature-card-widget").find(".feature-card .icon").removeClass().addClass("icon "+e(this).val())}),e(document).on("change",".idg-feature-card-widget .card-model",function(){var t=e(this).val();e(this).closest(".idg-feature-card-widget").find(".feature-card").removeClass().addClass("feature-card static-height "+t),"card-3"===t?(e(this).closest(".idg-feature-card-widget").find(".card-desc-wrapper").removeClass("hidden"),e(this).closest(".idg-feature-card-widget").find(".feature-card .card-desc, .feature-card .card-btn").show()):(e(this).closest(".idg-feature-card-widget").find(".card-desc-wrapper").addClass("hidden"),e(this).closest(".idg-feature-card-widget").find(".feature-card .card-desc, .feature-card .card-btn").hide())}),e(document).on("keyup",".idg-feature-card-widget .card-desc",function(){e(this).closest(".idg-feature-card-widget").find(".card-desc").text(e(this).val())}),e(document).on("keyup",".idg-feature-card-widget .card-btn-text",function(){e(this).closest(".idg-feature-card-widget").find(".card-btn.btn").text(e(this).val())})},idgBannersWidgets:function(){e(document).on("click",".number-of-banners-input",function(t){wpWidgets.save(e(this).closest(".widget"),0,1,0)}),e(document).on("click",".upload_image_button",function(t){t.preventDefault();var i=e(this);wp.media.editor.send.attachment=function(e,t){i.prev("input").val(t.id),i.parent().find("img.banner-img-preview").attr("src",t.url),wpWidgets.save(i.closest(".widget"),0,1,0)},wp.media.editor.open(i)}),e(document).on("click",".remove-banner-item",function(t){t.preventDefault();var i=e(this).closest(".idg-banners-widget"),d=i.find(".banners-items .banner").length;e(this).closest(".banner").addClass("deleting-banner").fadeOut(),i.find(".number-of-banners-input").val(d-1),i.find(".banner.deleting-banner").remove(),wpWidgets.save(i.closest(".widget"),0,1,0)})},idgBlockInit:function(){if(wp.element){var e=wp.element.createElement,t=wp.blocks.registerBlockType,i=wp.editor.RichText;t("gutenberg-boilerplate-es5/idgwp-gutenberg-block-card",{title:"Feature card block",icon:"paperclip",category:"widgets",attributes:{content:{type:"string",source:"html",selector:"div"}},edit:function(t){var d=t.attributes.content;return e(i,{tagName:"div",className:t.className,onChange:function(e){t.setAttributes({content:e}),function(e){e.startsWith("<a")?{backgroundColor:"#f3f4f5"}:{backgroundColor:"#7F0013"}}(d)},value:d})},save:function(t){var d=t.attributes.content;return e(i.Content,{tagName:"div",className:t.className,value:d})}})}},idgSectionsWidgetsAreas:function(){e(".widget-liquid-right").length&&(e(".widget-liquid-right").append(idg_admin.idg_custom_sections_form),e("div[id^=idg_wp_widget_area_]").each(function(){e(this).closest(".widgets-holder-wrap").addClass("idg-wp-custom-widget-area"),e(this).closest(".widgets-holder-wrap").find(".sidebar-description").length?e(this).closest(".widgets-holder-wrap").find(".sidebar-description").append('<p class="description description-idg"><a href="#" class="button-link button-link-delete idg-wp-widget-remove-area">Deletar esta seção</a></p>'):e(this).closest(".widgets-holder-wrap").find(".sidebar-name").after('<div class="sidebar-description"><p class="description"><a href="#" class="button-link button-link-delete idg-wp-widget-remove-area">Deletar esta seção</a></p></div>'),e(".idg-wp-widget-remove-area").click(function(t){t.preventDefault();var i=e(this).closest(".widgets-holder-wrap").find("div[id^=idg_wp_widget_area_]").attr("id");return e.ajax({type:"POST",url:idg_admin.ajaxurl,data:{action:"idg_wp_remove_widget_area",idg_wp_widgets_area_id:i},success:function(t){t.success&&e("#"+i).closest(".widgets-holder-wrap").remove()}}),!1})}))},idgSectionsWidgetsAreasCustomize:function(){if(e("#idg-wp-home-widgets-sections-selector").length){var t=e("#idg-wp-home-widgets-sections-sortable"),i=e("#idg-wp-home-widgets-sections-selected"),d=[];function s(){d=[],e.each(t.find("li"),function(){d.push(e(this).attr("id"))}),i.val(d.toString()),i.trigger("change")}t.sortable(),t.disableSelection(),t.on("sortstop",s),e("#idg-wp-add-home-widgets-sections").on("click",function(){var t='<li id="'+e("#idg-wp-home-widgets-sections-selector").val()+'">'+e("#idg-wp-home-widgets-sections-selector option:selected").text()+' <a href="#" class="dashicons dashicons-trash"></a></li>';e("#idg-wp-home-widgets-sections-sortable").append(t),s()}),t.find("li > a").on("click",function(){e(this).parent().remove(),s()})}}}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLm1pbi5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImFkbWluIiwiaW5pdCIsInRoaXMiLCJpZGdGZWF0dXJlQ2FyZFdpZGdldHMiLCJpZGdCYW5uZXJzV2lkZ2V0cyIsImlkZ0Jsb2NrSW5pdCIsImlkZ1NlY3Rpb25zV2lkZ2V0c0FyZWFzIiwiaWRnU2VjdGlvbnNXaWRnZXRzQXJlYXNDdXN0b21pemUiLCJvbiIsImNsb3Nlc3QiLCJmaW5kIiwidGV4dCIsInZhbCIsInNob3ciLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiaGlkZSIsImNhcmRNb2RlbCIsImUiLCJ3cFdpZGdldHMiLCJzYXZlIiwicHJldmVudERlZmF1bHQiLCJjbGlja2VkQnV0dG9uIiwid3AiLCJtZWRpYSIsImVkaXRvciIsInNlbmQiLCJhdHRhY2htZW50IiwicHJvcHMiLCJwcmV2IiwiaWQiLCJwYXJlbnQiLCJhdHRyIiwidXJsIiwib3BlbiIsImJhbm5lcnMiLCJuIiwibGVuZ3RoIiwiZmFkZU91dCIsInJlbW92ZSIsImVsZW1lbnQiLCJlbCIsImNyZWF0ZUVsZW1lbnQiLCJyZWdpc3RlckJsb2NrVHlwZSIsImJsb2NrcyIsIlJpY2hUZXh0IiwidGl0bGUiLCJpY29uIiwiY2F0ZWdvcnkiLCJhdHRyaWJ1dGVzIiwiY29udGVudCIsInR5cGUiLCJzb3VyY2UiLCJzZWxlY3RvciIsImVkaXQiLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwib25DaGFuZ2UiLCJuZXdDb250ZW50Iiwic2V0QXR0cmlidXRlcyIsInN0YXJ0c1dpdGgiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjaGVja0ZvckFFbGVtZW50IiwidmFsdWUiLCJDb250ZW50IiwiYXBwZW5kIiwiaWRnX2FkbWluIiwiaWRnX2N1c3RvbV9zZWN0aW9uc19mb3JtIiwiZWFjaCIsImFmdGVyIiwiY2xpY2siLCJldmVudCIsImlkZ193cF93aWRnZXRzX2FyZWFfaWQiLCJhamF4IiwiYWpheHVybCIsImRhdGEiLCJhY3Rpb24iLCJzdWNjZXNzIiwiJHNlY3Rpb25zTGlzdCIsIiRzZWN0aW9uc1NlbGVjdGVkIiwic2VjdGlvbnNWYWxzIiwidXBkYXRlU2VjdGlvbkxpc3QiLCJwdXNoIiwidG9TdHJpbmciLCJ0cmlnZ2VyIiwic29ydGFibGUiLCJkaXNhYmxlU2VsZWN0aW9uIiwibGkiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVdBLEdBQ1ZBLEVBQUVDLFVBQVVDLE1BQU0sV0FDakJDLEVBQU1DLFNBR1AsSUFBSUQsRUFBUSxDQUNYQyxLQUFNLFdBQ0xDLEtBQUtDLHdCQUNMRCxLQUFLRSxvQkFDTEYsS0FBS0csZUFDTEgsS0FBS0ksMEJBQ0xKLEtBQUtLLG9DQUdOSixzQkFBdUIsV0FDdEJOLEVBQUVDLFVBQVVVLEdBQUcsUUFBUyx1Q0FBd0MsV0FDL0RYLEVBQUVLLE1BQU1PLFFBQVEsNEJBQTRCQyxLQUFLLGVBQWVDLEtBQUtkLEVBQUVLLE1BQU1VLFNBRzlFZixFQUFFQyxVQUFVVSxHQUFHLFNBQVUsMENBQTJDLFdBRWxELHVCQURGWCxFQUFFSyxNQUFNVSxPQUV0QmYsRUFBRUssTUFBTU8sUUFBUSw0QkFBNEJDLEtBQUssNkJBQTZCRyxPQUM5RWhCLEVBQUVLLE1BQU1PLFFBQVEsNEJBQTRCQyxLQUFLLGdCQUFnQkksWUFBWSxZQUU3RWpCLEVBQUVLLE1BQU1PLFFBQVEsNEJBQTRCQyxLQUFLLGdCQUFnQkssU0FBUyxVQUMxRWxCLEVBQUVLLE1BQU1PLFFBQVEsNEJBQTRCQyxLQUFLLDZCQUE2Qk0sT0FDOUVuQixFQUFFSyxNQUFNTyxRQUFRLDRCQUE0QkMsS0FBSyx1QkFBdUJJLGNBQWNDLFNBQVMsUUFBVWxCLEVBQUVLLE1BQU1VLFFBRWxIZixFQUFFSyxNQUFNTyxRQUFRLDRCQUE0QkMsS0FBSyx1QkFBdUJJLGNBQWNDLFNBQVMsUUFBVWxCLEVBQUVLLE1BQU1VLFNBR2xIZixFQUFFQyxVQUFVVSxHQUFHLFNBQVUsdUNBQXdDLFdBQ2hFLElBQUlTLEVBQVlwQixFQUFFSyxNQUFNVSxNQUN4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LDBDQUEwQ2UsTUFBTyxLQUFNZixFQUFFLDBEQUEwRGMsT0FBUSwyREFDbEpkLEVBQUcsMENBQTJDb0UsT0FBUXNCLEdBQ3RETixNQUdESCxFQUFjcEUsS0FBSyxVQUFVRixHQUFHLFFBQVMsV0FDeENYLEVBQUVLLE1BQU02QixTQUFTUSxTQUNqQjBDLFNBNU1MLENBNE5HTyIsImZpbGUiOiJhZG1pbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQpIHtcblx0JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXHRcdGFkbWluLmluaXQoKTtcblx0fSk7XG5cblx0dmFyIGFkbWluID0ge1xuXHRcdGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuaWRnRmVhdHVyZUNhcmRXaWRnZXRzKCk7XG5cdFx0XHR0aGlzLmlkZ0Jhbm5lcnNXaWRnZXRzKCk7XG5cdFx0XHR0aGlzLmlkZ0Jsb2NrSW5pdCgpO1xuXHRcdFx0dGhpcy5pZGdTZWN0aW9uc1dpZGdldHNBcmVhcygpO1xuXHRcdFx0dGhpcy5pZGdTZWN0aW9uc1dpZGdldHNBcmVhc0N1c3RvbWl6ZSgpO1xuXHRcdH0sXG5cblx0XHRpZGdGZWF0dXJlQ2FyZFdpZGdldHM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsICcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQgLmNhcmQtdGl0bGUnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmNhcmQtdGl0bGUnKS50ZXh0KCQodGhpcykudmFsKCkpO1xuXHRcdFx0fSk7XG5cblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0IC5pY29uLXNlbGVjdG9yJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgY2FyZEljb24gPSAkKHRoaXMpLnZhbCgpO1xuXHRcdFx0XHRpZiggY2FyZEljb24gPT09ICd1cGxvYWQtY3VzdG9tLWljb24nICl7XG5cdFx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQnKS5maW5kKCcuZmVhdHVyZS1jYXJkIC5pY29uID4gaW1nJykuc2hvdygpO1xuXHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmN1c3RvbS1pY29uJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmN1c3RvbS1pY29uJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmZlYXR1cmUtY2FyZCAuaWNvbiA+IGltZycpLmhpZGUoKTtcblx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5mZWF0dXJlLWNhcmQgLmljb24nKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdpY29uICcgKyAkKHRoaXMpLnZhbCgpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5mZWF0dXJlLWNhcmQgLmljb24nKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdpY29uICcgKyAkKHRoaXMpLnZhbCgpKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCAuY2FyZC1tb2RlbCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIGNhcmRNb2RlbCA9ICQodGhpcykudmFsKCk7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmZlYXR1cmUtY2FyZCcpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2ZlYXR1cmUtY2FyZCBzdGF0aWMtaGVpZ2h0ICcgKyBjYXJkTW9kZWwgKTtcblx0XHRcdFx0aWYoIGNhcmRNb2RlbCA9PT0gJ2NhcmQtMycgKXtcblx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5jYXJkLWRlc2Mtd3JhcHBlcicpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5mZWF0dXJlLWNhcmQgLmNhcmQtZGVzYywgLmZlYXR1cmUtY2FyZCAuY2FyZC1idG4nKS5zaG93KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQnKS5maW5kKCcuY2FyZC1kZXNjLXdyYXBwZXInKS5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQnKS5maW5kKCcuZmVhdHVyZS1jYXJkIC5jYXJkLWRlc2MsIC5mZWF0dXJlLWNhcmQgLmNhcmQtYnRuJykuaGlkZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0JChkb2N1bWVudCkub24oJ2tleXVwJywgJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCAuY2FyZC1kZXNjJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5pZGctZmVhdHVyZS1jYXJkLXdpZGdldCcpLmZpbmQoJy5jYXJkLWRlc2MnKS50ZXh0KCQodGhpcykudmFsKCkpO1xuXHRcdFx0fSk7XG5cblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsICcuaWRnLWZlYXR1cmUtY2FyZC13aWRnZXQgLmNhcmQtYnRuLXRleHQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmlkZy1mZWF0dXJlLWNhcmQtd2lkZ2V0JykuZmluZCgnLmNhcmQtYnRuLmJ0bicpLnRleHQoJCh0aGlzKS52YWwoKSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0aWRnQmFubmVyc1dpZGdldHM6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0JChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5udW1iZXItb2YtYmFubmVycy1pbnB1dCcsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdHdwV2lkZ2V0cy5zYXZlKCAkKHRoaXMpLmNsb3Nlc3QoJy53aWRnZXQnKSwgMCwgMSwgMCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0JChkb2N1bWVudCkub24oJ2NsaWNrJywgJy51cGxvYWRfaW1hZ2VfYnV0dG9uJywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR2YXIgY2xpY2tlZEJ1dHRvbiA9ICQodGhpcyk7XG5cblx0XHRcdFx0d3AubWVkaWEuZWRpdG9yLnNlbmQuYXR0YWNobWVudCA9IGZ1bmN0aW9uKHByb3BzLCBhdHRhY2htZW50KXtcblx0XHRcdFx0XHRjbGlja2VkQnV0dG9uLnByZXYoJ2lucHV0JykudmFsKCBhdHRhY2htZW50LmlkICk7XG5cdFx0XHRcdFx0Y2xpY2tlZEJ1dHRvbi5wYXJlbnQoKS5maW5kKCdpbWcuYmFubmVyLWltZy1wcmV2aWV3JykuYXR0ciggJ3NyYycsIGF0dGFjaG1lbnQudXJsICk7XG5cdFx0XHRcdFx0d3BXaWRnZXRzLnNhdmUoIGNsaWNrZWRCdXR0b24uY2xvc2VzdCgnLndpZGdldCcpLCAwLCAxLCAwKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0d3AubWVkaWEuZWRpdG9yLm9wZW4oIGNsaWNrZWRCdXR0b24gKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnJlbW92ZS1iYW5uZXItaXRlbScsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0dmFyIGJhbm5lcnMgPSAkKHRoaXMpLmNsb3Nlc3QoJy5pZGctYmFubmVycy13aWRnZXQnKSxcblx0XHRcdFx0XHRuID0gYmFubmVycy5maW5kKCcuYmFubmVycy1pdGVtcyAuYmFubmVyJykubGVuZ3RoO1xuXG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmJhbm5lcicpLmFkZENsYXNzKCdkZWxldGluZy1iYW5uZXInKS5mYWRlT3V0KCk7XG5cdFx0XHRcdGJhbm5lcnMuZmluZCgnLm51bWJlci1vZi1iYW5uZXJzLWlucHV0JykudmFsKCBuIC0gMSApO1xuXHRcdFx0XHRiYW5uZXJzLmZpbmQoJy5iYW5uZXIuZGVsZXRpbmctYmFubmVyJykucmVtb3ZlKCk7XG5cdFx0XHRcdHdwV2lkZ2V0cy5zYXZlKCBiYW5uZXJzLmNsb3Nlc3QoJy53aWRnZXQnKSwgMCwgMSwgMCk7XG5cdFx0XHR9KTtcblxuXHRcdH0sXG5cblx0XHRpZGdCbG9ja0luaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmKCB3cC5lbGVtZW50ICl7XG5cblx0XHRcdFx0dmFyIGVsID0gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50LFxuXHRcdFx0XHRcdHJlZ2lzdGVyQmxvY2tUeXBlID0gd3AuYmxvY2tzLnJlZ2lzdGVyQmxvY2tUeXBlLFxuXHRcdFx0XHRcdFJpY2hUZXh0ID0gd3AuZWRpdG9yLlJpY2hUZXh0O1xuXG5cdFx0XHRcdGZ1bmN0aW9uIGNoZWNrRm9yQUVsZW1lbnQoY29udGVudCkge1xuXHRcdFx0XHRcdGlmKCBjb250ZW50LnN0YXJ0c1dpdGgoJzxhJykgKXtcblx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCAnYWxyZWFkeSBoYXMgYScgKTtcblx0XHRcdFx0XHRcdGJsb2NrU3R5bGUgPSB7IGJhY2tncm91bmRDb2xvcjogJyNmM2Y0ZjUnIH07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCAnTUlTU0lORyBhJyApO1xuXHRcdFx0XHRcdFx0YmxvY2tTdHlsZSA9IHsgYmFja2dyb3VuZENvbG9yOiAnIzdGMDAxMycgfTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgYmxvY2tTdHlsZTtcblx0XHRcdFx0cmVnaXN0ZXJCbG9ja1R5cGUoICdndXRlbmJlcmctYm9pbGVycGxhdGUtZXM1L2lkZ3dwLWd1dGVuYmVyZy1ibG9jay1jYXJkJywge1xuXHRcdFx0XHRcdHRpdGxlOiAnRmVhdHVyZSBjYXJkIGJsb2NrJyxcblx0XHRcdFx0XHRpY29uOiAncGFwZXJjbGlwJyxcblx0XHRcdFx0XHRjYXRlZ29yeTogJ3dpZGdldHMnLFxuXHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdGNvbnRlbnQ6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRcdFx0XHRcdHNvdXJjZTogJ2h0bWwnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RvcjogJ2RpdicsXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRlZGl0OiBmdW5jdGlvbiggcHJvcHMgKSB7XG5cdFx0XHRcdFx0XHR2YXIgY29udGVudCA9IHByb3BzLmF0dHJpYnV0ZXMuY29udGVudDtcblxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gb25DaGFuZ2VDb250ZW50KCBuZXdDb250ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRwcm9wcy5zZXRBdHRyaWJ1dGVzKCB7IGNvbnRlbnQ6IG5ld0NvbnRlbnQgfSApO1xuXHRcdFx0XHRcdFx0XHRjaGVja0ZvckFFbGVtZW50KCBjb250ZW50ICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBlbChcblx0XHRcdFx0XHRcdFx0UmljaFRleHQsXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR0YWdOYW1lOiAnZGl2Jyxcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSxcblx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZTogb25DaGFuZ2VDb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBjb250ZW50LFxuXHRcdFx0XHRcdFx0XHRcdC8vIHN0eWxlOiBibG9ja1N0eWxlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdHNhdmU6IGZ1bmN0aW9uKCBwcm9wcyApIHtcblx0XHRcdFx0XHRcdHZhciBjb250ZW50ID0gcHJvcHMuYXR0cmlidXRlcy5jb250ZW50O1xuXHRcdFx0XHRcdFx0Ly8gY2hlY2tGb3JBRWxlbWVudCggY29udGVudCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsKCBSaWNoVGV4dC5Db250ZW50LCB7XG5cdFx0XHRcdFx0XHRcdHRhZ05hbWU6ICdkaXYnLFxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGNvbnRlbnRcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpZGdTZWN0aW9uc1dpZGdldHNBcmVhczogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYoICQoJy53aWRnZXQtbGlxdWlkLXJpZ2h0JykubGVuZ3RoICl7XG5cdFx0XHRcdCQoJy53aWRnZXQtbGlxdWlkLXJpZ2h0JykuYXBwZW5kKGlkZ19hZG1pbi5pZGdfY3VzdG9tX3NlY3Rpb25zX2Zvcm0pO1xuXG5cdFx0XHRcdHZhciBpZGdfd3Bfd2lkZ2V0c19hcmVhcyA9ICQoICdkaXZbaWRePWlkZ193cF93aWRnZXRfYXJlYV9dJyApO1xuXHRcdFx0XHRpZGdfd3Bfd2lkZ2V0c19hcmVhcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy53aWRnZXRzLWhvbGRlci13cmFwJykuYWRkQ2xhc3MoJ2lkZy13cC1jdXN0b20td2lkZ2V0LWFyZWEnKTtcblx0XHRcdFx0XHRpZiggJCh0aGlzKS5jbG9zZXN0KCcud2lkZ2V0cy1ob2xkZXItd3JhcCcpLmZpbmQoJy5zaWRlYmFyLWRlc2NyaXB0aW9uJykubGVuZ3RoICl7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy53aWRnZXRzLWhvbGRlci13cmFwJykuZmluZCgnLnNpZGViYXItZGVzY3JpcHRpb24nKS5hcHBlbmQoJzxwIGNsYXNzPVwiZGVzY3JpcHRpb24gZGVzY3JpcHRpb24taWRnXCI+PGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ1dHRvbi1saW5rIGJ1dHRvbi1saW5rLWRlbGV0ZSBpZGctd3Atd2lkZ2V0LXJlbW92ZS1hcmVhXCI+RGVsZXRhciBlc3RhIHNlw6fDo288L2E+PC9wPicpXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLndpZGdldHMtaG9sZGVyLXdyYXAnKS5maW5kKCcuc2lkZWJhci1uYW1lJykuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJzaWRlYmFyLWRlc2NyaXB0aW9uXCI+PHAgY2xhc3M9XCJkZXNjcmlwdGlvblwiPjxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidXR0b24tbGluayBidXR0b24tbGluay1kZWxldGUgaWRnLXdwLXdpZGdldC1yZW1vdmUtYXJlYVwiPkRlbGV0YXIgZXN0YSBzZcOnw6NvPC9hPjwvcD48L2Rpdj4nKVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCQoICcuaWRnLXdwLXdpZGdldC1yZW1vdmUtYXJlYScgKS5jbGljayggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHZhciBpZGdfd3Bfd2lkZ2V0c19hcmVhX2lkID0gICQodGhpcykuY2xvc2VzdCggJy53aWRnZXRzLWhvbGRlci13cmFwJyApLmZpbmQoICdkaXZbaWRePWlkZ193cF93aWRnZXRfYXJlYV9dJyApLmF0dHIoICdpZCcgKTtcblxuXHRcdFx0XHRcdFx0JC5hamF4KCB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiUE9TVFwiLFxuXHRcdFx0XHRcdFx0XHR1cmw6IGlkZ19hZG1pbi5hamF4dXJsLFxuXHRcdFx0XHRcdFx0XHRkYXRhOlxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGFjdGlvbiA6ICdpZGdfd3BfcmVtb3ZlX3dpZGdldF9hcmVhJyxcblx0XHRcdFx0XHRcdFx0XHRcdGlkZ193cF93aWRnZXRzX2FyZWFfaWQgOiBpZGdfd3Bfd2lkZ2V0c19hcmVhX2lkLFxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCBkYXRhICl7XG5cdFx0XHRcdFx0XHRcdFx0aWYoIGRhdGEuc3VjY2VzcyApe1xuXHRcdFx0XHRcdFx0XHRcdFx0JCggJyMnICsgaWRnX3dwX3dpZGdldHNfYXJlYV9pZCApLmNsb3Nlc3QoICcud2lkZ2V0cy1ob2xkZXItd3JhcCcgKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGlkZ1NlY3Rpb25zV2lkZ2V0c0FyZWFzQ3VzdG9taXplOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiggJCgnI2lkZy13cC1ob21lLXdpZGdldHMtc2VjdGlvbnMtc2VsZWN0b3InKS5sZW5ndGggKXtcblx0XHRcdFx0dmFyICRzZWN0aW9uc0xpc3QgPSAkKCAnI2lkZy13cC1ob21lLXdpZGdldHMtc2VjdGlvbnMtc29ydGFibGUnICksXG5cdFx0XHRcdFx0JHNlY3Rpb25zU2VsZWN0ZWQgPSAkKCAnI2lkZy13cC1ob21lLXdpZGdldHMtc2VjdGlvbnMtc2VsZWN0ZWQnICksXG5cdFx0XHRcdFx0c2VjdGlvbnNWYWxzID0gW107XG5cblx0XHRcdFx0JHNlY3Rpb25zTGlzdC5zb3J0YWJsZSgpO1xuXHRcdFx0XHQkc2VjdGlvbnNMaXN0LmRpc2FibGVTZWxlY3Rpb24oKTtcblx0XHRcdFx0JHNlY3Rpb25zTGlzdC5vbiggJ3NvcnRzdG9wJywgdXBkYXRlU2VjdGlvbkxpc3QgKTtcblxuXHRcdFx0XHQkKCcjaWRnLXdwLWFkZC1ob21lLXdpZGdldHMtc2VjdGlvbnMnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dmFyIGxpID0gJzxsaSBpZD1cIicrICQoJyNpZGctd3AtaG9tZS13aWRnZXRzLXNlY3Rpb25zLXNlbGVjdG9yJykudmFsKCkgKydcIj4nKyAkKCcjaWRnLXdwLWhvbWUtd2lkZ2V0cy1zZWN0aW9ucy1zZWxlY3RvciBvcHRpb246c2VsZWN0ZWQnKS50ZXh0KCkgKycgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImRhc2hpY29ucyBkYXNoaWNvbnMtdHJhc2hcIj48L2E+PC9saT4nO1xuXHRcdFx0XHRcdCQoICcjaWRnLXdwLWhvbWUtd2lkZ2V0cy1zZWN0aW9ucy1zb3J0YWJsZScgKS5hcHBlbmQoIGxpICk7XG5cdFx0XHRcdFx0dXBkYXRlU2VjdGlvbkxpc3QoKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0JHNlY3Rpb25zTGlzdC5maW5kKCdsaSA+IGEnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHR1cGRhdGVTZWN0aW9uTGlzdCgpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRmdW5jdGlvbiB1cGRhdGVTZWN0aW9uTGlzdCgpIHtcblx0XHRcdFx0XHRzZWN0aW9uc1ZhbHMgPSBbXTtcblx0XHRcdFx0XHQkLmVhY2goICRzZWN0aW9uc0xpc3QuZmluZCgnbGknKSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0c2VjdGlvbnNWYWxzLnB1c2goICQodGhpcykuYXR0cignaWQnKSApO1xuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRcdCRzZWN0aW9uc1NlbGVjdGVkLnZhbCggc2VjdGlvbnNWYWxzLnRvU3RyaW5nKCkgKTtcblx0XHRcdFx0XHQkc2VjdGlvbnNTZWxlY3RlZC50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHR9O1xufSkoalF1ZXJ5KTtcbiJdfQ==
